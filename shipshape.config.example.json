{
  "default": {
    "source": "./dist",
    "preDeploy": [
      "npm run build"
    ],
    "postDeploy": [],
    "keepList": [
      "web.config",
      "logs",
      ".env",
      "app_offline.htm"
    ]
  },
  "environments": {
    "DEV": {
      "destination": "C:\\inetpub\\wwwroot\\myapp-dev",
      "postDeploy": [
        "echo Deployed to DEV environment"
      ],
      "keepList": [
        "web.config",
        "logs",
        "debug.log"
      ]
    },
    "UAT": {
      "destination": "C:\\inetpub\\wwwroot\\myapp-uat",
      "preDeploy": [
        "npm run build",
        "npm run test"
      ],
      "postDeploy": [
        "echo Deployed to UAT environment",
        "echo Running smoke tests...",
        "timeout /t 2 /nobreak > nul"
      ],
      "keepList": [
        "web.config",
        "logs",
        "uploads",
        "test-results"
      ]
    },
    "PROD": {
      "destination": "C:\\inetpub\\wwwroot\\myapp-prod",
      "preDeploy": [
        "npm run build",
        "npm run test",
        "npm run lint"
      ],
      "postDeploy": [
        "echo Deployed to PRODUCTION environment",
        "echo Creating backup timestamp...",
        "echo %date% %time% >> deployment.log"
      ],
      "keepList": [
        "web.config",
        "logs",
        "uploads",
        "user-data",
        "certificates",
        "deployment.log"
      ]
    }
  }
}
